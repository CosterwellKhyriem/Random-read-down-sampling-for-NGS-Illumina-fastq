# Random-read-down-sampling-for-NGS-Illumina-fastq
This one linux command one liner will randomly down sample reads from fastq file generated by illumina sequencing

Single End:
paste -d "\t" input.fastq  | awk -v k=putYourdownSamplingValueHere 'BEGIN{srand(systime() + PROCINFO["pid"]);}{s=x++<k?x-1:int(rand()*x);if(s<k)R[s]=$0}END{for(i in R)print R[i]}' | awk -F"\t" -v name=outfileName '{print $1"\n"$2"\n"$3"\n"$4>name".fastq"}'

Paired End:
paste -d "\t" side1.fastq side2.fastq | awk -v k=putYourdownSamplingValueHere 'BEGIN{srand(systime() + PROCINFO["pid"]);}{s=x++<k?x-1:int(rand()*x);if(s<k)R[s]=$0}END{for(i in R)print R[i]}' | awk -F"\t" -v name=outfileName '{print $1"\n"$2"\n"$3"\n"$4>name".side1.fastq";print  $5"\n"$6"\n"$7"\n"$8> name".side2.fastq"}'

NOTE: One disadvantage of this one liner for paired end sample is that it requires the paired end fastqs to be sorted by thier read IDs. 
      The command for this issue shall be added soon.
